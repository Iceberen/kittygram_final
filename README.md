# üêæ Kittygram ‚Äî —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∫–æ—Ç–∏–∫–æ–≤

**Kittygram** ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ñ–æ—Ç–æ —Å–≤–æ–∏—Ö –∫–æ—Ç–æ–≤, –æ–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ö –∏ –¥–µ–ª–∏—Ç—å—Å—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ –ø–∏—Ç–æ–º—Ü–µ–≤.
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –Ω–∞ **DRF** –∏ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç —Å –ø–æ–º–æ—â—å—é **Docker**.

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
¬´Kittygram¬ª —Å–æ—Ü—Å–µ—Ç—å –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ —Å–≤–æ–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤.
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ—Ü—Å–µ—Ç–∏ –º–æ–≥—É—Ç –ø–æ—Å—Ç–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–∏—Ç–æ–º—Ü–µ–≤,
–¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–∞–º –æ–ø–∏—Å–∞–Ω–∏–µ, –∞ —Ç–∞–∫–∂–µ —Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å—Ç—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üîó –†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –ø—Ä–æ–µ–∫—Ç:
[https://infra-sprint1.zapto.org](https://infra-sprint1.zapto.org).  
![CI Status](https://github.com/Iceberen/kittygram_final/actions/workflows/main.yml/badge.svg)

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.11
- Django
- Django REST Framework
- PostgreSQL
- Docker & Docker Compose
- Nginx
- CI/CD

---

## ‚öôÔ∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
  ```
  git clone https://github.com/Iceberen/kittygram_final.git
  cd kittygram_final
  ```
2. –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª .env. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ `.env.example`
  ```
  cp .env.example .env
  # –û—Ç–∫—Ä–æ–π—Ç–µ .env –∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Docker
  ```
  docker compose up -d --build
  ```
4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É
  ```
  docker compose exec backend python manage.py migrate
  docker compose exec backend python manage.py collectstatic
  docker compose exec backend cp -r /app/collected_static/. /static/static/
  ```
5. –ì–æ—Ç–æ–≤–æ!
  –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
  ```
  http://localhost/
  ```

---

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

1. –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã:
  ```
  cd frontend && docker build -t username/kittygram_frontend .
  cd ../backend && docker build -t username/kittygram_backend .
  cd ../nginx && docker build -t username/kittygram_gateway .
  ```
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–∑—ã –Ω–∞ DockerHub:
  ```
  docker push username/kittygram_frontend
  docker push username/kittygram_backend
  docker push username/kittygram_gateway
  ```
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
  ```
  ssh -i ~/.ssh/key username@server_ip
  mkdir kittygram
  sudo docker-compose -f kittygram/docker-compose.production.yml up -d
  ```

---

## ü§ñ CI/CD
1. –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ **GitHub Actions**:
- –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤ –Ω–∞ DockerHub
- –î–µ–ø–ª–æ–π –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
**–°–µ–∫—Ä–µ—Ç—ã –≤ GitHub Actions:**
  ```
  DOCKER_USERNAME
  DOCKER_PASSWORD
  HOST
  USER
  SSH_KEY
  SSH_PASSPHRASE
  TELEGRAM_TO
  TELEGRAM_TOKEN
  ```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
kittygram_final/
‚îú‚îÄ‚îÄ backend/         # Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –º–æ–¥–µ–ª–∏, API, –∞–¥–º–∏–Ω–∫–∞
‚îú‚îÄ‚îÄ frontend/        # React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ nginx/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ tests/           # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ docker-compose.production.yml
‚îî‚îÄ‚îÄ .env.example     # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: [Iceberen](https://github.com/Iceberen) –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–æ–º –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

---